---
import Layout from "../layouts/Layout.astro";
import { projects } from "./projectsData.js";
import ProjectCard from "../components/ProjectCard.astro";
import Tags from "../components/Tags.astro";
---

<script>
    const arrowContainer = document.querySelector(".arrow-container")!;

    window.addEventListener("scroll", function () {
        const scrollPosition = window.scrollY;
        if (scrollPosition < 100) {
            arrowContainer.classList.remove("arrow-container--hidden");
        } else {
            arrowContainer.classList.add("arrow-container--hidden");
        }
    });
</script>
<Layout title="Minh-Hoang HUYNH">
    <section id="title">
        <h1>Minh-Hoang HUYNH</h1>
        <div class="arrow-container" onclick="scroll(0, -100)" title="Scroll below">
            <div class="arrow-down"></div>
        </div>
        <ul class="about-me">
            <Tags tags={[{ name: "Jul 2025 — Currently" }]} />
            <li>
                <br />
                System V&V Engineer<br />
                @ Alstom, Saint-Ouen, FR<br /><br />
            </li>
            <Tags tags={[{ name: "Aug 2024 — Jan 2025" }]} />
            <li>
                <br />
                LLM Agent Developer Intern <br />
                @ Thales Research & Technologies, Palaiseau, FR
                <br /><br />
            </li>
            <Tags tags={[{ name: "Sept 2021 — Jan 2025" }]} />
            <li>
                <br />CS Student <br />
                @ Mines Saint-Étienne, FR<br /><br />
            </li>
        </ul>
    </section>
    {
        projects.map(({ heading, id, projects }) => (
            <section id={id}>
                <details open>
                    <summary>
                        <h2>{heading}</h2>
                    </summary>
                    <div class="links">
                        {projects.map((project) => (
                            <ProjectCard {project} />
                        ))}
                    </div>
                </details>
            </section>
        ))
    }
    <br />
</Layout>

<style>
    details[open] {
        margin-bottom: 5rem;
    }
    summary {
        transition: all 0.1s ease-in-out;
        margin-bottom: 1rem;
        padding: 0 0.5rem;
    }
    summary h2 {
        display: inline;
    }
    summary::marker {
        z-index: 999;
        font-size: 1.8rem;
    }
    summary:hover {
        cursor: pointer;
        background-color: var(--color-bg-secondary);
    }
    h1 {
        font-family: var(--font-title);
        @media screen and (min-width: 700px) {
            margin: 22rem 0 4% 0;
            font-size: 4rem;
        }
        @media screen and (max-width: 700px) {
            margin: 15rem 0 5rem 0;
            font-size: 2.75rem;
        }
    }
    #title {
        display: grid;
        grid-template-rows: auto auto;
    }
    .arrow-container {
        justify-self: center;
        opacity: 1;
        animation: bounce 1600ms infinite cubic-bezier(0.445, 0.05, 0.55, 0.95);
        transition: opacity 0.5s ease;
        cursor: pointer;
        margin: 0 0 5rem 0;
        width: 25px;
        height: 20px;
    }

    .arrow-container--hidden {
        opacity: 0;
    }

    .arrow-down {
        transform: rotate(45deg);
        transform-origin: 0% 0%;
        border-radius: 5px;
        background: var(--color-text);
        height: 6px;
    }

    .arrow-down:after {
        position: absolute;
        bottom: 0;
        left: 100%;
        transform: rotate(-90deg);
        transform-origin: 0% 100%;
        border-radius: 5px;
        background: var(--color-text);
        width: 100%;
        height: 100%;
        content: "";
    }

    @keyframes bounce {
        50% {
            transform: translateY(-15px);
        }
    }

    ul.about-me {
        justify-self: flex-end;
        margin: 0 0 5rem 0;
        padding-left: 0;
        list-style-type: none;

        li:last-child {
            border-left-style: dashed;
        }

        li {
            top: 0.2rem;
            margin: 0 0 0 1rem;
            border-left: 1px solid rgba(255, 127, 80, 0.5);

            padding-left: 0.5rem;
            font-style: italic;
            font-size: smaller;

            @media screen (min-width: 800px) {
                display: flex;
                align-items: center;
                gap: 1rem;
            }
        }
    }
    .links {
        column-gap: 1rem;
        column-count: 1;
        counter-reset: item-counter;

        @media screen and (min-width: 700px) {
            column-count: 2;
            h1 {
                margin: 30rem 0 5rem 0;
                font-size: 4rem;
            }
        }
        @media screen and (min-width: 1100px) {
            column-count: 3;
        }
        @media screen and (min-width: 1700px) {
            column-count: 4;
        }
        @media screen and (min-width: 2000px) {
            column-count: 5;
        }
        @media screen and (min-width: 2300px) {
            column-count: 6;
        }
    }
</style>
